<!-- #include tool-top gui\blocks\tool-top.htm;image=#image;onclick=#onclick;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='HAR_HEADER';help_ext=Hirshfeld_Atom_Refinement;1; -->
<td><font size="+1"><b>HAR Interface</b></font></td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->


<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='HAR_HEADER';help_ext=Basis_Sets_and_Method;1; -->
   <td width="20%">
       Basis
     </td>
     <td width="30%">$+
       html.Snippet("gui/snippets/input-combo", "name=tonto_har_basis",
        "items=spy.tonto.HAR.getBasisListStr()",
        "value=GetVar('settings.tonto.HAR.basis.name')",
        "onchange=SetVar('settings.tonto.HAR.basis.name', html.GetValue('~name~'))")
      $-</td>
     <td width="20%" align='right'>
       Method
     </td>
     <td width="30%">$+
       html.Snippet("gui/snippets/input-combo", "name=tonto_method",
        "items='Restricted Hartee-Fock<-rhf;Restricted Kohn-Sham<-rks'",
        "value=GetVar('settings.tonto.HAR.method')",
        "onchange=SetVar('settings.tonto.HAR.method', html.GetValue('~name~'))")
      $-</td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='HAR_HYDROGEN';help_ext=Hydrogen_Treatment;1; -->
  <td width="20%">Refine Hydrogen</td>
  <td width="30%">$+
    html.Snippet("gui/snippets/input-combo", "name=tonto_har_h_refinement",
      "items='positions only;positions+Uiso;positions+Uaniso;leave_alone'",
      "value=GetVar('settings.tonto.HAR.hydrogens')",
      "onchange=SetVar('settings.tonto.HAR.hydrogens', html.GetValue('~name~'))")
   $-</td>

   <td width="20%" align="right"> Use dispersion  </td>
   <td width="5%">$+
     html.Snippet("gui/snippets/input-checkbox", "name=tonto_har_dispersion",
      "checked=GetVar('settings.tonto.HAR.dispersion')",
      "onclick=SetVar('settings.tonto.HAR.dispersion', html.GetState('~name~'))")
   $-</td>
   <td width="20%" align="right"> Auto-Refine  </td>
   <td width="5%">$+
     html.Snippet("gui/snippets/input-checkbox", "name=auto_refine",
      "checked=GetVar('settings.tonto.HAR.autorefine')",
      "onclick=SetVar('settings.tonto.HAR.autorefine', html.GetState('~name~'))")
   $-</td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='HAR_CLUSTER_SIGNIFICANCE';help_ext=Cluster_Radius_and_Significance;1; -->
  <td width="20%" align="left">  Cluster radius  </td>
  <td width="30%">$+
    html.Snippet("gui/snippets/input-text", "name=tonto_har_cluster_radius",
     "value=GetVar('settings.tonto.HAR.cluster.radius')",
     "onchange=SetVar('settings.tonto.HAR.cluster.radius', html.GetValue('~name~'))")
  $-</td>

  <td width="20%" align="right"> I/sig threshold </td>
  <td width="30%">$+
    html.Snippet("gui/snippets/input-text", "name=tonto_i_threshold",
     "value=GetVar('settings.tonto.HAR.intensity_threshold.value')",
     "onchange=SetVar('settings.tonto.HAR.intensity_threshold.value', html.GetValue('~name~'))")
  $-</td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->


 <!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='HAR_HEADER';help_ext=HAR Refinement;1; -->

     <!--<td width="20%">-->
       <!--Convergence-->
     <!--</td>-->
     <!--<td>$+-->
       <!--html.Snippet("gui/snippets/input-text", "name=tonto_har_convergence_val",-->
        <!--"value=GetVar('settings.tonto.HAR.convergence.value')",-->
        <!--"onchange=SetVar('settings.tonto.HAR.convergence.value', html.GetValue('~name~'))")-->
      <!--$-</td>-->

     <!--<td width="20%" align='right'>-->
       <!--Extinction-->
     <!--</td>-->
     <!--<td>$+-->
       <!--html.Snippet("gui/snippets/input-checkbox", "name=tonto_har_optimise_extinction",-->
        <!--"checked=GetVar('settings.tonto.HAR.extinction.refine')",-->
        <!--"disabled=true",-->
        <!--"onclick=SetVar('settings.tonto.HAR.extinction.refine', html.GetState('~name~'))")-->
      <!--$-</td>-->

 <!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='HAR_HEADER';help_ext=Running_HAR_Jobs;1; -->

      <td width="25%" >
      $+
        html.Snippet("gui/snippets/input-button",
        "name=update_info",
        "value=Check Output NOW",
        "onclick=html.Update"
        )
      $-
      </td>

     <td width="20%" align='left'>
       Check out every
     </td>

     <td width="8%" align='center'>
     $+
       html.Snippet("gui/snippets/input-text", "name=checking_interval",
        "value=spy.GetParam(harp.check_output_interval)",
        "onchange=spy.SetParam(harp.check_output_interval, html.GetValue('~name~'))")
      $-
     </td>
     <td width="10%" align='right'>
       seconds
     </td>

      <td width="33%" >
      $+
        html.Snippet("gui/snippets/input-button",
        "name=tonto_har_run",
        "value=Launch",
        "onclick=spy.tonto.HAR.launch()"
        )
     $-
     </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<tr name='#name' bgcolor="GetVar(HtmlTableFirstcolColour)">
<!-- #include tool-help-first-column gui\blocks\tool-help-first-column.htm;help_ext=List_HAR_Jobs;1; -->

<!-- #include row_table_on gui\blocks\row_table_on.htm;1; -->
$spy.tonto.HAR.list_jobs()
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include h3-harp-extras $GetVar(HARp_plugin_path)\h3-HARp-extras.htm;gui\blocks\tool-h3-off.htm;image=h3-HAR_Extras;onclick=;colspan=1;2; -->

<!-- #include tool-footer gui\blocks\tool-footer.htm;colspan=1;1; -->
